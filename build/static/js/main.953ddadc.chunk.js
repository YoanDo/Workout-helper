(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{26:function(e,t){},31:function(e){e.exports={time:"Quel est ton objectif ? D\xe9finis la dur\xe9e des exercices",serie:"Combien de r\xe9p\xe9tition veux-tu effectuer par tour ?",rest:"D\xe9finis le temps de repos que tu souhaite obtenir \xe0 la fin des s\xe9ries",loop:"Combien de tour veux tu enchainer"}},32:function(e){e.exports={time:"What is your goal? Define the duration of your exercises",serie:"How many repetitions do you want to perform per turn?",rest:"Define the rest time needed at the end of each serie",loop:"How many loop would you like to do? "}},33:function(e,t,n){e.exports=n(62)},49:function(e,t){},55:function(e,t){},58:function(e,t,n){},62:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),r=n(24),s=n(5),o=n(19),u=n(8),c=n(9),l=n(12),p=n(10),m=n(13),d=n(3),h=n(2),b="TOGGLE_RUN",f="UPDATE_VALUE",g="RESET",v=function(){return{type:b}},y=function(e,t){return function(n){return n({type:f,label:e,new_value:t})}},E=function(){return{type:g}},j=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(l.a)(this,Object(p.a)(t).call(this,e))).audioGetReady=new Audio("https://res.cloudinary.com/dyub4bz6x/video/upload/v1539540139/sounds/get_ready.mp3"),n.audioTenSec=new Audio("https://res.cloudinary.com/dyub4bz6x/video/upload/v1540927160/sounds/10_more_seconds.mp3"),n.audioNext=new Audio("https://res.cloudinary.com/dyub4bz6x/video/upload/v1539530167/sounds/next_exercise.mp3"),n.audioRest=new Audio("https://res.cloudinary.com/dyub4bz6x/video/upload/v1539531176/sounds/time_to_rest.mp3"),n.audioCongrats=new Audio("https://res.cloudinary.com/dyub4bz6x/video/upload/v1539529922/sounds/congratulation.mp3"),n.state={trackCount:0,remainingTime:0,loopDone:1,referenceValue:0},n.launchExercise=n.launchExercise.bind(Object(d.a)(Object(d.a)(n))),n.countDown=n.countDown.bind(Object(d.a)(Object(d.a)(n))),n}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidUpdate",value:function(e){this.props.running!==e.running&&this.audioPlayer("stop"),this.props.running!==e.running&&this.props.running&&this.launchExercise()}},{key:"resetStates",value:function(){this.setState({trackCount:0,loopDone:1}),this.props.toggle_run()}},{key:"countDown",value:function(e){var t=this;this.state.remainingTime-1>=0&&this.props.running?(this.state.referenceValue>=20&&10===this.state.remainingTime&&this.audioPlayer("tenSeconds"),this.setState({remainingTime:this.state.remainingTime-1}),setTimeout(function(){t.countDown(e)},1e3)):e?this.launchExercise():this.start(),console.log(this.state.remainingTime)}},{key:"audioPlayer",value:function(e){"getReady"===e&&this.audioGetReady.play(),"tenSeconds"===e&&this.audioTenSec.play(),"next"===e&&this.audioNext.play(),"rest"===e&&this.audioRest.play(),"congrats"===e&&this.audioCongrats.play(),"stop"===e&&(this.audioGetReady.pause(),this.audioGetReady.currentTime=0,this.audioTenSec.pause(),this.audioTenSec.currentTime=0,this.audioNext.pause(),this.audioNext.currentTime=0,this.audioRest.pause(),this.audioRest.currentTime=0)}},{key:"start",value:function(){var e=this.state.trackCount,t=this.state.loopDone,n=this.props.time+1,a=this.props.rest+1,i=e===this.props.serie&&t<this.props.loop;console.log(this.state.trackCount,this.props.running),this.setState({trackCount:e+1}),e<this.props.serie&&this.props.running?(e>0&&this.audioPlayer("next"),this.setState({remainingTime:n,referenceValue:n-1}),this.countDown(!1)):this.props.running&&(t===this.props.loop&&(this.props.running&&this.audioPlayer("congrats"),this.resetStates()),i&&(0!==a?(this.audioPlayer("rest"),this.setState({remainingTime:a,referenceValue:a-1}),this.countDown(!0),this.setState({loopDone:t+1,trackCount:0})):this.launchExercise()))}},{key:"launchExercise",value:function(){var e=this;this.props.running&&(this.audioPlayer("getReady"),setTimeout(function(){e.start()},6e3))}},{key:"render",value:function(){var e={width:"".concat(this.state.remainingTime/this.state.referenceValue*100,"%")};return i.a.createElement("div",{className:"flex-column"},i.a.createElement("div",{className:"bar"},i.a.createElement("div",{className:"progression",style:e},i.a.createElement("h1",null,this.state.remainingTime,"/",this.state.referenceValue))))}}]),t}(a.Component),x=Object(s.b)(function(e){return{time:e.time,serie:e.serie,rest:e.rest,loop:e.loop,running:e.running}},function(e){return{toggle_run:Object(h.b)(v,e)}})(j),O=n(11),w=function(e){function t(e){var n;Object(u.a)(this,t);var a=(n=Object(l.a)(this,Object(p.a)(t).call(this,e))).props,i=a.label,r=a.min,s=a.max,o=a.update_value;return n.label=i,n.min=r,n.max=s,n.update_value=o,n.increaseValue=n.increaseValue.bind(Object(d.a)(Object(d.a)(n))),n.decreaseValue=n.decreaseValue.bind(Object(d.a)(Object(d.a)(n))),n}return Object(m.a)(t,e),Object(c.a)(t,[{key:"increaseValue",value:function(){var e=this.props[this.label]+this.min;e>this.max&&(e=this.max),this.update_value(this.props.label,e)}},{key:"decreaseValue",value:function(){var e=this.props[this.label]-this.min;e<this.min&&(e=this.min),this.update_value(this.props.label,e)}},{key:"render",value:function(){var e=this.label;return i.a.createElement("div",{className:"domain"},i.a.createElement("h1",{className:"",onClick:this.increaseValue},e),i.a.createElement("p",null,i.a.createElement(O.a,{id:e})),i.a.createElement("div",{className:"flex-row controller"},i.a.createElement("div",{className:"ctrl-button",onClick:this.decreaseValue},"-"),i.a.createElement("div",{className:"ctrl-display flex-row"},this.props[e]),i.a.createElement("div",{className:"ctrl-button",onClick:this.increaseValue},"+")))}}]),t}(a.Component),k=Object(s.b)(function(e){return{time:e.time,serie:e.serie,rest:e.rest,loop:e.loop}},function(e){return{update_value:Object(h.b)(y,e)}})(w),T=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(l.a)(this,Object(p.a)(t).call(this,e))).state={standBy:!1},n}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"flex-column"},this.props.running?i.a.createElement("button",{className:"runner",onClick:this.props.toggle_run},i.a.createElement("p",null,"stop")):null,this.props.running?null:i.a.createElement("button",{className:"runner",onClick:this.props.toggle_run},i.a.createElement("p",null,"start")),this.state.standBy?i.a.createElement("button",{className:"standBy runner"},i.a.createElement("p",null,"get ready")):null,i.a.createElement("p",{onClick:this.props.reset},"reset"))}}]),t}(a.Component),_=Object(s.b)(function(e){return{running:e.running}},function(e){return{toggle_run:Object(h.b)(v,e),reset:Object(h.b)(E,e)}})(T),N=n(28),C=n.n(N),D=n(29),V=n.n(D);Object(O.c)(Object(o.a)(C.a).concat(Object(o.a)(V.a)));var S=n(30),R=n(15),P=n(18),A={time:5,serie:1,rest:5,loop:1,running:!1},G=Object(h.c)(Object(h.a)(S.a))(h.d)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b:return Object(P.a)({},e,{running:!e.running});case f:return Object(P.a)({},e,Object(R.a)({},t.label,t.new_value));case g:return A;default:return e}}),z={fr:n(31),en:n(32)},B=navigator.language.split(/[-_]/)[0];n(58);Object(r.render)(i.a.createElement(O.b,{locale:B,messages:z[B]},i.a.createElement(s.a,{store:G},i.a.createElement(function(){return i.a.createElement("div",{className:"flex-column"},i.a.createElement(x,null),i.a.createElement("div",{className:"flex-row ctrl-board"},i.a.createElement(k,{min:5,max:120,label:"time"}),i.a.createElement(k,{min:1,max:30,label:"serie"}),i.a.createElement(k,{min:5,max:360,label:"rest"}),i.a.createElement(k,{min:1,max:20,label:"loop"})),i.a.createElement(_,null))},null))),document.getElementById("root"))}},[[33,2,1]]]);
//# sourceMappingURL=main.953ddadc.chunk.js.map